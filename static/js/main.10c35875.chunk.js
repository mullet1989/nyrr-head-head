(this["webpackJsonpnyrr-head-head"]=this["webpackJsonpnyrr-head-head"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),s=(n(14),n(8)),l=n(7),i=n(1),u=(n(15),n(16),n(2)),m=n.n(u),d=n(3),p=function(e,t){var n=Object(a.useState)(e),r=Object(i.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e]),c},f=function(e){var t=e.onClick,n=e.onFocusIn,c=e.onFocusOut,o=e.isOpen,s=Object(a.useState)([]),l=Object(i.a)(s,2),u=l[0],f=l[1],h=Object(a.useState)(""),g=Object(i.a)(h,2),v=g[0],b=g[1],E=p(v,300);Object(a.useEffect)((function(){E&&y(E)}),[E]);var y=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://results.nyrr.org/api/runners/search",{headers:{accept:"application/json, text/plain, */*","accept-language":"en-US,en;q=0.9","content-type":"application/json;charset=UTF-8","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",token:"6112c32703f442f0"},referrer:"https://results.nyrr.org/home",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({searchString:t,pageIndex:1,pageSize:5,sortColumn:null,sortDescending:!1}),method:"POST",mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,f(a.response.items);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{border:"solid 1px",borderRadius:"5px",position:"relative",background:"white",zIndex:"100"}},r.a.createElement("input",{type:"text",value:v,style:{marginBottom:"0",fontSize:"1.2em",border:"none"},onFocus:n,onBlur:c,onChange:function(e){return b(e.target.value)}}),r.a.createElement("div",{style:{position:"absolute",width:"100%",background:"white",marginTop:"5px"}},o&&u.map((function(e,n){return r.a.createElement("div",{className:"box",key:n,onMouseDown:function(n){b("".concat(e.firstName," ").concat(e.lastName)),t(e.runnerId)}},e.firstName," ",e.lastName," - (",e.racesCount," races)")}))))},h=function(e){var t=e.setParticipantRaces,n=Object(a.useState)([]),c=Object(i.a)(n,2),o=(c[0],c[1]),s=Object(a.useState)(!0),l=Object(i.a)(s,2),u=l[0],p=l[1],h=function(){var e=Object(d.a)(m.a.mark((function e(n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),e.next=3,fetch("https://results.nyrr.org/api/runners/races",{headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","cache-control":"no-cache","content-type":"application/json;charset=UTF-8",pragma:"no-cache","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin",token:"6112c32703f442f0"},referrer:"https://results.nyrr.org/home",referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify({runnerId:n,searchString:null,year:null,distance:null,pageIndex:1,pageSize:100,sortColumn:"EventDate",sortDescending:!0}),method:"POST",mode:"cors"});case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,o(r.response.items),t(r.response.items);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{onFocusOut:function(e){return p(!1)},onFocusIn:function(e){return p(!0)},onClick:h,isOpen:u}))};var g=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),u=Object(i.a)(o,2),m=u[0],d=u[1],p=Object(a.useState)({}),f=Object(i.a)(p,2),g=f[0],v=f[1],b=function(e,t){e&&c(e),t&&d(t)};return Object(a.useEffect)((function(){if(n.length&&m.length){var e,t={},a=m.map((function(e){return e.eventCode})),r=Object(l.a)(n);try{for(r.s();!(e=r.n()).done;){var c=e.value,o=a.indexOf(c.eventCode);o>-1&&(t[c.eventCode]=[c,m[o]])}}catch(i){r.e(i)}finally{r.f()}v(Object(s.a)({},t))}}),[n,m]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column",style:{marginTop:"10px"}},r.a.createElement("h1",{style:{textAlign:"center"}},"NYRR HEAD TO HEAD"),r.a.createElement("div",{style:{padding:"10px",borderLeft:".3rem solid #9b4dca",backgroundColor:"#f4f5f6"}},r.a.createElement("span",null,"search two athletes to compare their results in nyrr history")))),r.a.createElement("div",{className:"row col"},r.a.createElement("div",{className:"column"},r.a.createElement("h4",{style:{textAlign:"left",marginTop:"2rem"}},"RED CORNER ",r.a.createElement("span",null,"\ud83e\udd4a")),r.a.createElement(h,{setParticipantRaces:function(e){return b(e,null)}})),r.a.createElement("div",{className:"column"},r.a.createElement("h4",{style:{textAlign:"right",marginTop:"2rem"}},"BLUE CORNER"),r.a.createElement(h,{setParticipantRaces:function(e){return b(null,e)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column",style:{textAlign:"center"}},function(){for(var e=0,t=0,n=0,a=Object.entries(g);n<a.length;n++){var c=Object(i.a)(a[n],2),o=c[0],s=c[1];console.log(s),g[o][0].actualTime<g[o][1].actualTime?e++:g[o][0].actualTime>g[o][1].actualTime&&t++}return Object.keys(g).length?r.a.createElement("div",{className:"row",style:{display:"flex",alignItems:"center",padding:"2rem 0"}},r.a.createElement("div",{className:"column"},r.a.createElement("span",null,e>t&&r.a.createElement("span",null,"\ud83d\udc51"),"(",e,")")),r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column"},r.a.createElement("span",null,t>e&&r.a.createElement("span",null,"\ud83d\udc51"),"(",t,")"))):""}(),g&&Object.keys(g).length?Object.entries(g).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return r.a.createElement("div",{className:"row flex flex-middle",style:{marginTop:"10px",marginBottom:"10px"},key:n},r.a.createElement("div",{style:{backgroundColor:g[n][0].actualTime<g[n][1].actualTime?"darkseagreen":"lightcoral",fontWeight:"bold",borderRadius:"25px",color:"black"},className:"column"},g[n][0].actualTime),r.a.createElement("div",{className:"column"},g[n][0].eventName),r.a.createElement("div",{style:{backgroundColor:g[n][0].actualTime>g[n][1].actualTime?"darkseagreen":"lightcoral",fontWeight:"bold",borderRadius:"25px",color:"black"},className:"column"},g[n][1].actualTime))})):g&&n.length&&m.length?r.a.createElement("div",null,"sorry, no races in common \ud83d\ude25"):r.a.createElement("div",null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.10c35875.chunk.js.map